syntax = "proto3";
option java_package = "msgScheme";
option csharp_namespace = "GameProtos";
package msgScheme;

message AMsg {
    enum Type {
        RequestMsg = 0;
        ResponseMsg = 1;
    }
    Type type = 1;
    oneof msg {
        RequestMsg requestMsg = 2;
        ResponseMsg responseMsg = 3;

    }

}
message RequestMsg {
    enum Head {


        LoginRequest = 0;


        FixAccountPasswordRequest = 1;

        LogoutRequest = 2;

        BankBaseRequest = 3;

        BankItemAllRequest = 4;
        BankItemCustomRequest = 5;

    }
    Head head = 1;

    oneof body {


        LoginRequest loginRequest = 2;


        FixAccountPasswordRequest fixAccountPasswordRequest = 3;

        LogoutRequest logoutRequest = 4;

        BankBaseRequest bankBaseRequest = 5;

        BankAllItemRequest bankItemRequest = 6;
        BankCustomItemRequest bankCustomItemRequest = 7;

    }

}
message ResponseMsg {
    enum Head {
        ErrorResponse = 0;


        LoginResponse = 100002;


        FixAccountPasswordResponse = 100004;


        LogoutResponse = 100006;


        BankBaseResponse = 100008;


        BankItemResponse = 100011;
    }
    Head head = 1;

    oneof body {
        ErrorResponse errorResponse = 2;


        LoginResponse loginResponse = 7;


        FixAccountPasswordResponse fixAccountPasswordResponse = 9;

        LogoutResponse logoutResponse = 11;

        BankBaseResponse bankBaseResponse = 13;

        BankItemResponse bankItemResponse = 16;

    }

}
message BankCustomItemRequest {
    repeated int32 itemId = 1;
}

message BankAllItemRequest {
}

message BankBaseRequest {

}

message BankBaseResponse {
    int64 Gold = 1;
    int64 Soul = 2;
    int64 Crystal = 3;
    int64 RunePoint = 4;
}

message BankItemResponse {
    repeated Item Items = 1;

    message Item {
        int32 itemId = 1;
        int32 num = 2;
    }
}


message LogoutResponse {

}
message LogoutRequest {

}


service Login {
    rpc login (LoginRequest) returns (LoginResponse) {
    }
}


message FixAccountPasswordRequest {
    string accountId = 1;
    string oldPassword = 2;
    string newPassword = 3;
}
message FixAccountPasswordResponse {

    enum Reason {
        OK = 0;
        NO_GOOD_ACCOUNT_ID = 1;
        NO_GOOD_PASSWORD = 2;

        ACCOUNT_NOT_EXIST = 3;
        WRONG_PASSWORD = 4;
        OTHER = 5;
    }
    Reason reason = 1;
}


message LoginRequest {
    string accountId = 1;
    string password = 2;

}

message LoginResponse {

    enum Reason {
        OK = 0;
        NO_GOOD_ACCOUNT = 1;
        NO_GOOD_PASSWORD = 2;
        WRONG_PASSWORD = 3;
        NOT_EXIST_SO_CREATE = 4;
        OTHER = 5;
    }
    Reason reason = 1;
    string nickname = 2;
}


message ErrorResponse {
    ErrorType errorType = 1;
    string reason = 2;
    enum ErrorType {
        UNKNOWN = 0;
        OTHER_LOGIN = 1;

    }
}
