syntax = "proto3";
option java_package = "msgScheme";
option csharp_namespace = "GameProtos";
package msgScheme;
message AMsg {
    enum Head {
        Undefined_Msg = 0;
        Undefined_Request = 1;
        Undefined_Response = 2;

        Error_Response = 3;
        
        Login_Request = 100001;
        Login_Response = 100002;
        
        CreateAccount_Request = 100003;
        CreateAccount_Response = 100014;


    }
    Head head = 1;

    oneof body {
        ErrorResponse errorResponse = 2;
        UndefinedMsg undefinedMsg = 3;
        UndefinedRequest undefinedRequest = 4;
        UndefinedResponse undefinedResponse = 5;


        LoginRequest loginRequest = 6;
        LoginResponse loginResponse = 7;


        CreateAccountRequest createAccountRequest = 8;
        CreateAccountResponse createAccountResponse = 9;


    }

}

service Login {
    rpc login (LoginRequest) returns (LoginResponse) {
    }
}


message CreateAccountRequest {
    string accountId = 1;
    string password = 2;
}
message CreateAccountResponse {

    enum Reason {
        OK = 0;
        ALREADY_EXIST = 1;
        NO_GOOD_PASSWORD = 2;
        OTHER = 4;
    }
    Reason reason = 1;
}

message UndefinedMsg {

}

message UndefinedRequest {

}

message UndefinedResponse {

}

message LoginRequest {
    string accountId = 1;
    string password = 2;

}

message LoginResponse {

    enum Reason {
        OK = 0;
        WRONG_PASSWORD = 1;
        OTHER = 2;
    }
    Reason reason = 1;
    string nickname = 2;
}


message ErrorResponse {
    ErrorType errorType = 1;
    string reason = 2;
    enum ErrorType {
        UNKNOWN = 0;
        
        OTHER_LOGIN = 1;
    }
}
